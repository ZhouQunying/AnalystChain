# AnalystChain 项目任务

**主任务**：构建可用的投资分析工具
**当前位置**：阶段2 端到端测试

## 系统架构

### 3层架构
```
【知识层】向量库（语义检索）+ JSON（结构化知识）
    ↓
【Agent层】DeepAgents框架：3个SubAgent（宏观/政策/股票）+ Main Agent
    ↓
【工具层】AKShare数据工具 + 知识检索工具
```

### 为什么这样设计
- **双存储**：向量库支持语义检索+JSON支持快速精确查询
- **DeepAgents**：多层级分析（宏观→政策→股票→综合）符合投资分析逻辑
- **工具分离**：数据获取（AKShare）和知识检索（RAG）解耦，易扩展

**详细设计**：参见`.cursor/docs/cursor_organize_files_and_update_refere.md`（第34-253行）

## 5个阶段

| 阶段 | What | Why | How | How Much | 状态 |
|------|------|-----|-----|----------|------|
| 阶段1 | 知识基础设施 | 提供知识支撑 | 构建向量库+JSON | 向量库可用+检索准确 | ✅ |
| 阶段2 | SubAgent原型 | 验证架构可行性 | 实现宏观分析SubAgent | 分析准确+响应<30s | 🟡 |
| 阶段3 | 多Agent协作 | 扩展分析能力 | 实现3个SubAgent+Main Agent | 协作测试通过 | ⏸️ |
| 阶段4 | 系统集成 | 构建完整系统 | Workflow+记忆+测试 | 端到端可用 | ⏸️ |
| 阶段5 | 优化部署 | 生产环境就绪 | 性能优化+UI+Docker | 可部署使用 | ⏸️ |

**详见**：[阶段1](./阶段1_知识基础.md) | [阶段2](./阶段2_SubAgent原型.md)

---

**规范**：[项目开发规范](../项目开发规范.md) | **技术决策**：[技术决策速查](./技术决策速查.md)
